# 数据集管理

MAXIR AI 支持两种数据集类型：

- **文件数据集**：由多个 CSV 或 XLSX 文件组成的集合。
    
- **数据库数据集**：指兼容 PostgreSQL 7.0 及以上版本的数据库实例。
    

用于支持结构化数据的分析、探索。

## 创建数据集

请根据数据源类型选择需要创建的数据集类型。

### 创建文件数据集

在创建文件数据集之前，请确保已完成[目标文件上传](/user-guide/7-data-source-mgmt.md#上传文件)。

1.  在左侧导航栏中，点击“数据集”。在“数据集管理”页面，选择“文件数据集” >“添加文件数据集”。
    
    ![](images/022.jpg)
    
2.  在“创建数据集”页面，完成数据集的配置。 

    ![](images/023.jpg)

    参数说明请见下表：

    | **字段名** | **是否必选** | **说明** |
    | :- | :- | :- |
    | 数据集名称 | 是 | 数据集的展示名。 |
    | 数据集描述 | 是 | 数据集内容/用途的简要描述。 |

### 创建数据库数据集

在创建文件数据集之前，请确保已完成目标[数据库数据源的创建](/user-guide/7-data-source-mgmt.md#创建数据库数据源)。

1.  在左侧导航栏中，点击“数据集”。在“数据集管理”页面，选择“数据库数据集” > “添加数据库数据集”。
    
    ![](images/024.jpg)
    
2.  选择数据源和要包含的 Schema，点击“下一步”。
    
    ![](images/025.jpg)
    
    参数说明：
    
    - **数据源**：目标数据库数据源。
        
    - **Schema 选择**：只有在指定 Schema 下的表才能被访问，可多选。
        
3.  设置数据集的名称和描述，点击“下一步”。
    
4.  添加访问角色，完成各角色的配置。

    访问角色用于对数据库数据源进行访问控制，用户只有匹配到了相关角色才能拥有对应的访问权限。
    
    访问角色分为两类：
    
    - **默认角色**：当用户没有身份时，则使用默认角色访问数据。一个数据源只能配置至多 1 个。
        
    - **业务角色**：和用户的业务身份相关联。用户以与其业务身份相匹配的业务角色访问数据。
    
    访问角色配置参数说明：
    
    | **参数** | **说明** |
    | :- | :- |
    | 业务身份模板 | 指定与业务角色相关联的业务身份。<br/>**说明**：仅当创建业务角色时，需要指定。 |
    | 角色名称 | 角色的名称。 |
    | 角色描述 | 角色的简要说明。 |
    | 账号密码 | 用于访问数据源对应数据库的账号密码。<br/>如勾选“使用源数据的账号密码”，则直接使用创建数据源时指定的数据库账号和密码进行访问；如不勾选，请重新指定用户名和密码。 |
    | 表权限和RLS规则 | 用于指定访问该数据源的黑、白名单，以及 RLS（Row-Level Security，行级安全）规则。 |
    
5.  确认数据库数据集信息无误后，点击“创建数据集”。
    

## 修改数据集信息

1.  在“数据集管理”页面，点击“文件数据集”/“数据库数据集”页面，将鼠标悬停到目标数据集卡片上，点击右上角的编辑按钮。
    
    ![](images/11111.jpg)
    
2.  修改对应的信息，点击“保存”。
    

## 修改文件数据集中表的元数据

你可以为文件数据集中的表格添加列描述，或者修改表格的列名，从而让大语言模型能够更好的理解文件中的内容。

> 关于如何修改数据库数据集中数据库的元数据信息，请参考[修改数据库的元数据](/user-guide/7-data-source-mgmt.md#修改数据库的元数据)章节。

1.  在“数据集管理” > “文件数据集”中，点击目标数据集卡片，进入数据集详情页。
    
2.  点击目标文件“操作”列中的元数据设置按钮。
    
    ![](images/027.jpg)
    
3.  修改工作表元数据：
    
    1.  在左侧结构树中，点击目标表名称。在右侧编辑器中，点击编辑按钮，为该表添加别名和描述，点击“确认”。
        
        ![](images/028.jpg)
        
    2.  重复上述操作，完成对所有目标工作表元数据的修改。
        
4.  修改工作表中子表的元数据：
    
    1.  在左侧结构树中，选择_目标表_ > _目标子表。_在右侧编辑器中，找到目标列名，点击编辑按钮，修改该列的列名或者为该列添加列描述，点击“确认”完成修改。
        
        ![](images/029.jpg)
        
    2.  重复上述操作，完成对所有目标列的元数据修改。
        
5.  当完成所有相关列的修改后，点击右上角的“保存并解析”。

    ![](images/155.jpg)

    !> 如不执行此步骤，修改将不会生效。**重置解析会清除原有 Schema。**

## 修改数据库数据集的访问角色配置

1.  在“数据集管理” > “数据库数据集”中，点击目标数据集卡片，进入数据集详情页。
    
2.  在左侧角色列表中，点击目标角色，进行信息修改。
    
    ![](images/033.jpg)
    
3.  完成修改后，点击“保存”。
    
4.  （可选）如需新增角色，点击上方添加按钮即可。
    

## 删除数据集

1.  在“数据集管理”页面，将鼠标悬停到目标数据集卡片上，点击右上角的删除按钮。
    
    ![](images/034.jpg)
    
2.  在弹出的删除确认框中，确认相关信息，点击“删除”。
    