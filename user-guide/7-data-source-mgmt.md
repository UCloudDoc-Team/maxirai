# 数据源管理

数据源是知识库/数据集中的最小单元，承载着结构化或非结构化的信息内容。MAXIR AI 支持两种数据源：

- **文件**：支持多种常见文件格式，包括：PDF、DOCX、XLSX、CSV、TXT、MD、JSON、PPTX、DOC 等。
    
- **数据库**：各种兼容 PostgreSQL 的数据库以及内置 MAXIRDB 数据库。
    

为了提升知识检索与问答的效率与准确性，系统需对数据源进行有效管理。本节将介绍数据源的上传、编辑与删除等基础操作，为后续知识库/数据集的创建与管理奠定数据基础。

## 文件管理

### 上传文件

1.  在左侧导航栏中，选择“数据源” > “文件”。在“文件管理”页面，点击右上角的“新建”按钮，选择“上传文件”。
    
    ![](images/006.jpg)
    
2.  在弹出的窗口中选择所需文件，点击“开始上传”。文件上传成功后，关闭“上传文件”窗口，即可在文件列表中查看对应文件信息。
    

    > 支持上传的文件格式包括 **pdf、docx、doc、xlsx、csv、txt、md、json、pptx**，单次最多可选择 **100** 个文件。单个文件单个大小不超过 **100MB**。

    ![](images/0061.jpg)

### 创建文件夹

如多个文件之间需要配合使用，总是一起关联至对应的知识库/数据集，可以将这些文件上传至同一文件夹中，方便多个文件同时引用。

1.  在左侧导航栏中，选择“数据源” > “文件”。在“文件管理”页面，点击右上角的“新建”按钮，选择“创建文件夹”。
    
    ![](images/0062.jpg)
    
    在弹出的对话框中，输入文件夹名称，点击创建。
    
2.  创建完成后，在文件管理列表中，找到该文件夹，点击进入详情页。点击“上传文件”，完成文件上传。
    
    ![](images/007.jpg)

### 查看文件/文件夹信息

在“文件管理”页面，可以查看空间内所有文件/文件夹的信息。

![](images/0063.jpg)

| **字段名** | **说明** |
| :- | :- |
| 名称 | 文件/文件夹的名称。 |
| 类型 | 文件的扩展名，例如 `csv`。如为文件夹，则类型为 `folder`。 |
| 大小 | 文件/文件夹的大小。 |
| 链接数量 | 关联该文件/文件夹的知识库及数据集的数量。 |
| 创建日期 | 文件/文件夹的创建时间。 |
| 创建人 | 文件/文件夹的创建用户名。 |
| 更新时间 | 文件/文件夹最近一次更新时间。 |
| 操作 | 支持的操作，包括：修改和删除。 |

### 修改文件/文件夹信息

目前仅支持修改文件/文件夹的名称。

1.  在“文件管理”页面，找到目标文件/文件夹所在行。点击“操作”列的修改按钮。
    
    ![](images/008.jpg)
    
2.  在“重命名文件”对话框中，输入目标文件/文件夹的新名称，点击“确认”。
    

### 删除文件/文件夹

你可以删除不再需要的文件/文件夹。

!> 文件/文件夹删除后，关联该文件/文件夹的知识库与数据集将无法继续使用其内容进行问答，请谨慎操作。

1.  在“文件管理”页面，找到目标文件/文件夹所在行。点击“操作”列的删除按钮。
    
    ![](images/009.jpg)
    
2.  在弹出的删除确认对话框中，确认信息无误，点击“确认删除”。
    

## 数据库管理

数据库数据源用于建立 MAXIR AI 与目标数据库之间的连接，使系统能够安全、稳定地访问数据库数据，以支持智能数据分析与自然语言问答功能。

### 创建数据库数据源

如需创建数据库数据集，必须先完成数据库数据源的创建。

1.  在左侧导航栏中，选择“数据源” > “数据库”。在打开的“数据库管理”页面中，点击“添加数据库”卡片。
    
    ![](images/015.jpg)
    
2.  在”创建数据源”页面，选择数据源类型，填写对应信息。
    
    如数据源为外部 PostgreSQL，请填写如下信息：
    
    ![](images/016.jpg)
    
    | **字段名** | **说明** |
    | :- | :- |
    | 数据源名称 | 数据源的展示名。 |
    | 数据源描述 | 数据源内容/用途的简要描述。 |
    | 主机地址 | 数据库的访问地址。 |
    | 端口 | 数据库的访问端口。 |
    | 数据库名称 | 要连接的数据库的名称。 |
    | 数据库用户名 | 用于登录连接数据库的用户名。 |
    | 数据库密码 | 用于登录连接数据库的用户密码。 |
    
    如数据源为内部 MAXIR 数据库，请填写如下信息：
    
    ![](images/017.jpg)
    
    | **字段名** | **说明** |
    | :- | :- |
    | 数据源名称 | 数据源的展示名。 |
    | 数据源描述 | 数据源内容/用途的简要描述。 |
    | 数据库名称 | 要连接的数据库的名称。 |
    | 数据库用户名 | 用于登录连接数据库的用户名。 |
    | 数据库密码 | 用于登录连接数据库的用户密码。 |
    
3.  完成配置后，点击“测试连接”。返回“连接成功”后，点击“保存”即可。待数据库数据源完成构建后，即可使用。
    

### 修改数据库数据源信息

1.  在“数据库管理”页面，将鼠标移到到目标数据库数据源卡片上，点击右上角的“编辑”按钮。
    
    ![](images/018.jpg)
    
2.  在打开的“更新数据源”页面，完成相应配置的修改后，点击“测试连接”。返回测试连接成功后，点击“保存”即可。
    

### 修改数据库的元数据

1.  选择“数据源” >“数据库”。在“数据库管理”页面，点击目标数据源卡片，进入数据源详情页。
    
2.  （可选）在默认打开页面，为 Schema 添加 Annotation。
    
    ![](images/030.jpg)
    
3.  （可选）在左侧“数据库结构”区域，选择目标 Schema，为该 Schema 下的表添加 Annotation。
    
    ![](images/031.jpg)
    
4.  （可选）在左侧“数据库结构”区域，选择_目标 Schema_ > _目标表_，为该表中的列添加 Annotation。
    
    ![](images/032.jpg)
    
5.  完成 Annotation 添加后，点击页面右上角的“构建”按钮，完成新版本的数据集构建。
    

!> 如不执行此步骤，修改将不会生效。**重新构建会清除原有 Schema。**

### 删除数据库数据源

你可以删除不再需要使用的数据库数据源。

!> 删除后，数据库数据源和数据集之间的链接关系也将一并被删除。对应数据集将无法再访问该数据库的数据。请谨慎操作。

1.  在“数据库管理”页面，将鼠标移到到目标数据库数据源卡片上，点击右上角的“删除”按钮。
    
    ![](images/019.jpg)
    
2.  在弹出的对话框中，确认删除信息，点击“确认”。
    